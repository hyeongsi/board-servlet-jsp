<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="BoardMapper">
	
	<update id="addBoard" parameterType="BoardDTO">
		insert all
	  	into board (boardid, title, boardcontent, name)
	  		values (board_seq.nextval, #{title}, #{boardcontent}, #{name})
	  	into board_writter (boardid, id)
	  		values (board_seq.currval, #{id})
		select * from dual
	</update>

	<select id="list" resultType="BoardDTO">
		select a.boardid, a.title, a.writetime, a.viewcnt, a.name, b.id
		from board a
		inner join board_writter b on a.boardid = b.boardid
		order by a.boardid desc
	</select>
	
	<select id="totalCount" resultType="int">
		select count(*)
		from board
	</select>
</mapper>